{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./src/views/About.vue?24ee","webpack:///src/components/Disco.vue","webpack:///./src/components/Disco.vue?e43b","webpack:///./src/components/Disco.vue?7e04","webpack:///./src/components/Disco.vue","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","$","target","proto","camera","scene","renderer","container","sensor","render","_vm","_h","$createElement","_c","_self","staticClass","staticRenderFns","_m","attrs","name","data","mounted","navigator","permissions","Promise","all","query","console","log","initSensor","init","animate","methods","JSON","stringify","options","onreading","onerror","event","error","start","createLight","intensity","pointLight","castShadow","shadow","near","far","bias","geometry","material","color","multiplyScalar","sphere","add","texture","magFilter","wrapT","wrapS","set","side","alphaMap","alphaTest","receiveShadow","distanceMaterial","customDistanceMaterial","document","getElementById","position","pointLight2","shininess","specular","mesh","y","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","shadowMap","enabled","type","appendChild","domElement","controls","OrbitControls","update","addEventListener","onWindowResize","aspect","updateProjectionMatrix","generateTexture","canvas","createElement","width","height","context","getContext","fillStyle","fillRect","requestAnimationFrame","time","performance","now","x","Math","sin","z","rotation","component","components","Disco"],"mappings":"uGACA,IAAIA,EAAY,EAAQ,QACpBC,EAAyB,EAAQ,QAIrCC,EAAOC,QAAU,GAAGC,QAAU,SAAgBC,GAC5C,IAAIC,EAAMC,OAAON,EAAuBO,OACpCC,EAAS,GACTC,EAAIV,EAAUK,GAClB,GAAIK,EAAI,GAAKA,GAAKC,IAAU,MAAMC,WAAW,+BAC7C,KAAMF,EAAI,GAAIA,KAAO,KAAOJ,GAAOA,GAAc,EAAJI,IAAOD,GAAUH,GAC9D,OAAOG,I,uBCZT,IAAII,EAAI,EAAQ,QACZT,EAAS,EAAQ,QAIrBS,EAAE,CAAEC,OAAQ,SAAUC,OAAO,GAAQ,CACnCX,OAAQA,K,yCCNV,ICeIY,EAAQC,EAAOC,EAAUC,EAAWC,EACpC,EAAJ,EDhBIC,EAAS,WAAa,IAAIC,EAAId,KAASe,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,UAAU,IACzIG,EAAkB,GEDlB,EAAS,WAAa,IAAIN,EAAId,KAASe,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIO,GAAG,IACnG,EAAkB,CAAC,WAAa,IAAIP,EAAId,KAASe,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACK,MAAM,CAAC,GAAK,aAAaL,EAAG,MAAM,CAACK,MAAM,CAAC,GAAK,mB,0IDiB7K,qEAEA,iBAEA,GACEC,KAAM,QACNC,KAAM,WACJ,MAAO,IAGTC,QAAS,WAAX,WACQC,UAAUC,YAEZC,QAAQC,IAAI,CAACH,UAAUC,YAAYG,MAAM,CAA/C,uBACA,6BAAQ,KAAR,iBACA,6BAAQ,KAAR,gBACA,kBACA,qBAAU,MAAV,uBACU,EAAV,aAEU,QAAV,+CAEA,mBACQ,QAAR,kFACQ,EAAR,iBAGMC,QAAQC,IAAI,+CACZhC,KAAKiC,cAEPjC,KAAKkC,OACLlC,KAAKmC,WAEPC,QAAS,CACPH,WADJ,WAEM,IAAN,oCACMF,QAAQC,IAAIK,KAAKC,UAAUC,IAC3B3B,EAAS,IAAI,EAAnB,QACMA,EAAO4B,UAAY,WAAzB,uDACM5B,EAAO6B,QAAU,SAAvB,GACiC,qBAArBC,EAAMC,MAAMpB,MACdQ,QAAQC,IAAI,6BAGhBpB,EAAOgC,QACPb,QAAQC,IAAIpB,IAEdiC,YAdJ,SAcA,GACM,IAAIC,EAAY,IAEZC,EAAa,IAAI,EAA3B,aACMA,EAAWC,YAAa,EACxBD,EAAWE,OAAOzC,OAAO0C,KAAO,EAChCH,EAAWE,OAAOzC,OAAO2C,IAAM,GAC/BJ,EAAWE,OAAOG,MAAQ,KAE1B,IAAIC,EAAW,IAAI,EAAzB,cACUC,EAAW,IAAI,EAAzB,gBACMA,EAASC,MAAMC,eAAeV,GAC9B,IAAIW,EAAS,IAAI,EAAvB,UACMV,EAAWW,IAAID,GAEf,IAAIE,EAAU,IAAI,EAAxB,6BACMA,EAAQC,UAAY,EAA1B,KACMD,EAAQE,MAAQ,EAAtB,KACMF,EAAQG,MAAQ,EAAtB,KACMH,EAAQ/D,OAAOmE,IAAI,EAAG,KAEtBV,EAAW,IAAI,EAArB,aACMC,EAAW,IAAI,EAArB,MACQU,KAAM,EAAd,KACQC,SAAUN,EACVO,UAAW,KAGbT,EAAS,IAAI,EAAnB,UACMA,EAAOT,YAAa,EACpBS,EAAOU,eAAgB,EACvBpB,EAAWW,IAAID,GAGf,IAAIW,EAAmB,IAAI,EAAjC,MACQH,SAAUX,EAASW,SACnBC,UAAWZ,EAASY,YAItB,OAFAT,EAAOY,uBAAyBD,EAEzBrB,GAGTb,KAzDJ,WA0DMvB,EAAY2D,SAASC,eAAe,aAGpC/D,EAAS,IAAI,EAAnB,oDACMA,EAAOgE,SAAST,IAAI,EAAG,GAAI,IAE3BtD,EAAQ,IAAI,EAAlB,KACMA,EAAMiD,IAAI,IAAI,EAApB,eAGM,EAAN,wBACMjD,EAAMiD,IAAI,GAEVe,EAAczE,KAAK6C,YAAY,UAC/BpC,EAAMiD,IAAIe,GAGV,IAAIpB,EAAW,IAAI,EAAzB,eAEUC,EAAW,IAAI,EAAzB,MACQC,MAAO,SACPmB,UAAW,GACXC,SAAU,QACVX,KAAM,EAAd,OAGUY,EAAO,IAAI,EAArB,UACMA,EAAKJ,SAASK,EAAI,GAClBD,EAAKT,eAAgB,EACrB1D,EAAMiD,IAAIkB,GAIVlE,EAAW,IAAI,EAArB,qBACMA,EAASoE,cAAcC,OAAOC,kBAC9BtE,EAASuE,QAA4B,GAApBF,OAAOG,WAAuC,GAArBH,OAAOI,aACjDzE,EAAS0E,UAAUC,SAAU,EAC7B3E,EAAS0E,UAAUE,KAAO,EAAhC,KAEM3E,EAAU4E,YAAY7E,EAAS8E,YAG/B,IAAIC,EAAW,IAAIC,EAAzB,qBACMD,EAASnF,OAAOyD,IAAI,EAAG,GAAI,GAC3B0B,EAASE,SAOTZ,OAAOa,iBAAiB,SAAU5F,KAAK6F,gBAAgB,IAGzDA,eAhHJ,WAiHMrF,EAAOsF,OAASf,OAAOG,WAAaH,OAAOI,YAC3C3E,EAAOuF,yBAEPrF,EAASuE,QAA4B,GAApBF,OAAOG,WAAuC,GAArBH,OAAOI,cAGnDa,gBAvHJ,WAwHM,IAAIC,EAAS3B,SAAS4B,cAAc,UACpCD,EAAOE,MAAQ,EACfF,EAAOG,OAAS,EAEhB,IAAIC,EAAUJ,EAAOK,WAAW,MAIhC,OAHAD,EAAQE,UAAY,QACpBF,EAAQG,SAAS,EAAG,EAAG,EAAG,GAEnBP,GAGT9D,QAnIJ,WAoIMsE,sBAAsBzG,KAAKmC,SAC3BnC,KAAKa,UAEPA,OAvIJ,WAwIM,IAAI6F,EAA2B,KAApBC,YAAYC,MAEvB,EAAN,4BACM,EAAN,8BACM,EAAN,4BAKMF,GAAQ,IAERjC,EAAYD,SAASqC,EAA2B,EAAvBC,KAAKC,IAAW,GAAPL,GAClCjC,EAAYD,SAASK,EAA2B,EAAvBiC,KAAKC,IAAW,GAAPL,GAAkB,EACpDjC,EAAYD,SAASwC,EAA2B,EAAvBF,KAAKC,IAAW,GAAPL,GAElCjC,EAAYwC,SAASJ,EAAIH,EACzBjC,EAAYwC,SAASD,EAAIN,EAEzBhG,EAASG,OAAOJ,EAAOD,ME7MkT,I,YCO3U0G,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCPf,GACE3F,KAAM,OACN4F,WAAY,CACVC,MAAJ,ICd+U,ICO3U,EAAY,eACd,EACAvG,EACAO,GACA,EACA,KACA,KACA,MAIa,e","file":"js/about.0a321a6a.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('Disco')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div>\r\n    <div id=\"console\"></div>\r\n    <div id=\"container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  AbsoluteOrientationSensor\r\n  // RelativeOrientationSensor\r\n} from 'motion-sensors-polyfill'\r\nimport * as THREE from 'three'\r\n// import { OrbitControls } from './jsm/controls/OrbitControls.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\nvar camera, scene, renderer, container, sensor\r\nvar pointLight, pointLight2\r\n\r\nconst params = new URLSearchParams(new URL(window.location.href).search.slice(1))\r\n// const relative = !!Number(params.get(\"relative\"));\r\nconst coordinateSystem = params.get('coord')\r\n\r\nexport default {\r\n  name: 'Disco',\r\n  data: function () {\r\n    return {\r\n    }\r\n  },\r\n  mounted: function () {\r\n    if (navigator.permissions) {\r\n      // https://w3c.github.io/orientation-sensor/#model\r\n      Promise.all([navigator.permissions.query({ name: 'accelerometer' }),\r\n        navigator.permissions.query({ name: 'magnetometer' }),\r\n        navigator.permissions.query({ name: 'gyroscope' })])\r\n        .then(results => {\r\n          if (results.every(result => result.state === 'granted')) {\r\n            this.initSensor()\r\n          } else {\r\n            console.log('Permission to use sensor was denied.')\r\n          }\r\n        }).catch(err => {\r\n          console.log('Integration with Permissions API is not enabled, still try to start app.' + err)\r\n          this.initSensor()\r\n        })\r\n    } else {\r\n      console.log('No Permissions API, still try to start app.')\r\n      this.initSensor()\r\n    }\r\n    this.init()\r\n    this.animate()\r\n  },\r\n  methods: {\r\n    initSensor () {\r\n      const options = { frequency: 60, coordinateSystem }\r\n      console.log(JSON.stringify(options))\r\n      sensor = new AbsoluteOrientationSensor(options)\r\n      sensor.onreading = () => (pointLight.quaternion.fromArray(sensor.quaternion).inverse)()\r\n      sensor.onerror = (event) => {\r\n        if (event.error.name === 'NotReadableError') {\r\n          console.log('Sensor is not available.')\r\n        }\r\n      }\r\n      sensor.start()\r\n      console.log(sensor)\r\n    },\r\n    createLight (color) {\r\n      var intensity = 1.5\r\n\r\n      var pointLight = new THREE.PointLight(color, intensity, 20)\r\n      pointLight.castShadow = true\r\n      pointLight.shadow.camera.near = 1\r\n      pointLight.shadow.camera.far = 60\r\n      pointLight.shadow.bias = -0.005 // reduces self-shadowing on double-sided objects\r\n\r\n      var geometry = new THREE.SphereBufferGeometry(0.3, 12, 6)\r\n      var material = new THREE.MeshBasicMaterial({ color: color })\r\n      material.color.multiplyScalar(intensity)\r\n      var sphere = new THREE.Mesh(geometry, material)\r\n      pointLight.add(sphere)\r\n\r\n      var texture = new THREE.CanvasTexture(this.generateTexture())\r\n      texture.magFilter = THREE.NearestFilter\r\n      texture.wrapT = THREE.RepeatWrapping\r\n      texture.wrapS = THREE.RepeatWrapping\r\n      texture.repeat.set(1, 4.5)\r\n\r\n      geometry = new THREE.SphereBufferGeometry(2, 32, 8)\r\n      material = new THREE.MeshPhongMaterial({\r\n        side: THREE.DoubleSide,\r\n        alphaMap: texture,\r\n        alphaTest: 0.5\r\n      })\r\n\r\n      sphere = new THREE.Mesh(geometry, material)\r\n      sphere.castShadow = true\r\n      sphere.receiveShadow = true\r\n      pointLight.add(sphere)\r\n\r\n      // custom distance material\r\n      var distanceMaterial = new THREE.MeshDistanceMaterial({\r\n        alphaMap: material.alphaMap,\r\n        alphaTest: material.alphaTest\r\n      })\r\n      sphere.customDistanceMaterial = distanceMaterial\r\n\r\n      return pointLight\r\n    },\r\n\r\n    init () {\r\n      container = document.getElementById('container')\r\n      // document.body.appendChild(container);\r\n\r\n      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100)\r\n      camera.position.set(0, 10, 40)\r\n\r\n      scene = new THREE.Scene()\r\n      scene.add(new THREE.AmbientLight(0x111122))\r\n      // lights\r\n\r\n      pointLight = this.createLight(0x008fff)\r\n      scene.add(pointLight)\r\n\r\n      pointLight2 = this.createLight(0xff8888)\r\n      scene.add(pointLight2)\r\n      //\r\n\r\n      var geometry = new THREE.BoxBufferGeometry(30, 30, 30)\r\n\r\n      var material = new THREE.MeshPhongMaterial({\r\n        color: 0xa0adaf,\r\n        shininess: 10,\r\n        specular: 0x111111,\r\n        side: THREE.BackSide\r\n      })\r\n\r\n      var mesh = new THREE.Mesh(geometry, material)\r\n      mesh.position.y = 10\r\n      mesh.receiveShadow = true\r\n      scene.add(mesh)\r\n\r\n      //\r\n\r\n      renderer = new THREE.WebGLRenderer({ antialias: true })\r\n      renderer.setPixelRatio(window.devicePixelRatio)\r\n      renderer.setSize(window.innerWidth * 0.8, window.innerHeight * 0.8)\r\n      renderer.shadowMap.enabled = true\r\n      renderer.shadowMap.type = THREE.BasicShadowMap\r\n\r\n      container.appendChild(renderer.domElement)\r\n      // document.body.appendChild( renderer.domElement );\r\n\r\n      var controls = new OrbitControls(camera, renderer.domElement)\r\n      controls.target.set(0, 10, 0)\r\n      controls.update()\r\n\r\n      // stats = new Stats();\r\n      // document.body.appendChild( stats.dom );\r\n\r\n      //\r\n\r\n      window.addEventListener('resize', this.onWindowResize, false)\r\n    },\r\n\r\n    onWindowResize () {\r\n      camera.aspect = window.innerWidth / window.innerHeight\r\n      camera.updateProjectionMatrix()\r\n\r\n      renderer.setSize(window.innerWidth * 0.8, window.innerHeight * 0.8)\r\n    },\r\n\r\n    generateTexture () {\r\n      var canvas = document.createElement('canvas')\r\n      canvas.width = 2\r\n      canvas.height = 2\r\n\r\n      var context = canvas.getContext('2d')\r\n      context.fillStyle = 'white'\r\n      context.fillRect(0, 1, 2, 1)\r\n\r\n      return canvas\r\n    },\r\n\r\n    animate () {\r\n      requestAnimationFrame(this.animate)\r\n      this.render()\r\n    },\r\n    render () {\r\n      var time = performance.now() * 0.001\r\n\r\n      pointLight.position.x = Math.sin(time * 0.6) * 9\r\n      pointLight.position.y = Math.sin(time * 0.7) * 9 + 6\r\n      pointLight.position.z = Math.sin(time * 0.8) * 9\r\n\r\n      //   pointLight.rotation.x = time\r\n      //   pointLight.rotation.z = time\r\n\r\n      time += 10000\r\n\r\n      pointLight2.position.x = Math.sin(time * 0.6) * 9\r\n      pointLight2.position.y = Math.sin(time * 0.7) * 9 + 6\r\n      pointLight2.position.z = Math.sin(time * 0.8) * 9\r\n\r\n      pointLight2.rotation.x = time\r\n      pointLight2.rotation.z = time\r\n\r\n      renderer.render(scene, camera)\r\n\r\n      // stats.update();\r\n    }\r\n  }\r\n}\r\n</script>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"console\"}}),_c('div',{attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disco.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disco.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Disco.vue?vue&type=template&id=acfdfd62&\"\nimport script from \"./Disco.vue?vue&type=script&lang=js&\"\nexport * from \"./Disco.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"about\">\n    <!-- <h1></h1> -->\n    <Disco/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Disco from '@/components/Disco.vue'\n\nexport default {\n  name: 'Home',\n  components: {\n    Disco\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=24e07e84&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}